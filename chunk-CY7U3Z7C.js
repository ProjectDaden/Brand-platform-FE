import{a as D,b as T,e as F,h as R}from"./chunk-GTY3B7ZY.js";import{a as j}from"./chunk-SPRJXPAD.js";import{Aa as x,C as c,Ca as A,D as b,Da as V,E as g,Fa as Q,G as _,K as y,M as v,N as d,Na as H,Oa as L,P as C,Qa as U,W as n,X as r,Y as u,aa as I,ba as m,ca as P,e as h,fa as s,ja as w,ka as k,la as M,p as f,q as S,xa as E,za as O}from"./chunk-TKKKCRMN.js";function B(a,e){a&1&&(n(0,"div",16),s(1," \u2713 "),r())}function $(a,e){if(a&1){let t=I();n(0,"div",13)(1,"img",14),m("click",function(){let l=f(t).index,o=P();return S(o.togglePhotoSelection(l))}),r(),y(2,B,2,0,"div",15),r()}if(a&2){let t=e.$implicit;c(),C("border-4",t.selected)("border-blue-500",t.selected),d("alt",t.alt),v("data-src",t.url),c(),d("ngIf",t.selected)}}var N=class a{constructor(e,t,i){this.renderer=e;this.document=t;this.http=i}ngOnInit(){this.selectedPersonality=this.getPersonalityFromBrandValues(),this.loadImageryOptions(this.selectedPersonality),this.fetchStockPhotos()}personalityOptions=["Hero","Caregiver","Explorer","Creator","Innocent","Sage","Jester","Magician","Rebel","Ruler","Everyman","Lover"];selectedPersonality="";imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"];selectedImageryStyle="Abstract";stockPhotos=[];searchQuery="";targetAudience={age:"25-34",location:"Urban",interests:["Technology","Travel"]};unsplashAccessKey="YOUR_UNSPLASH_ACCESS_KEY";unsplashApiUrl="https://api.unsplash.com/search/photos";handlePersonalitySelection(e){this.selectedPersonality=e,this.loadImageryOptions(e),this.fetchStockPhotos()}handleImageryStyleSelection(e){this.selectedImageryStyle=e,this.fetchStockPhotos()}loadImageryOptions(e){switch(e){case"Jester":this.imageryStyles=["Bold","Abstract","Vintage"];break;case"Creator":this.imageryStyles=["Abstract","Minimalist","Realistic"];break;case"Hero":this.imageryStyles=["Bold","Realistic","Minimalist"];break;default:this.imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"]}this.selectedImageryStyle=this.imageryStyles[0]}fetchStockPhotos(){let e=this.buildSearchQuery();this.getUnsplashPhotos(e).subscribe(t=>{this.stockPhotos=t.map(i=>({url:i.urls.small,alt:i.alt_description||"Stock photo",selected:!1}))})}buildSearchQuery(){let e=`${this.selectedPersonality.toLowerCase()} ${this.selectedImageryStyle.toLowerCase()}`,t=this.targetAudience.interests.join(" ");return`${e} ${t} ${this.searchQuery}`.trim()}getUnsplashPhotos(e){let t=`${this.unsplashApiUrl}?query=${encodeURIComponent(e)}&per_page=10&client_id=${this.unsplashAccessKey}`;return this.http.get(t).pipe(h(i=>i.results||[]))}togglePhotoSelection(e){this.stockPhotos[e].selected=!this.stockPhotos[e].selected}onSearchQueryChange(){this.fetchStockPhotos()}getPersonalityFromBrandValues(){return"Jester"}get imageryOutput(){return{style:this.selectedImageryStyle,selectedImages:this.stockPhotos.filter(e=>e.selected).map(e=>e.url)}}ngAfterViewInit(){let e=this.document.querySelectorAll(".lazy-load"),t=new IntersectionObserver((i,l)=>{i.forEach(o=>{if(o.isIntersecting){let p=o.target;p.src=p.dataset.src||"",p.classList.remove("lazy-load"),l.unobserve(p)}})},{rootMargin:"0px 0px 100px 0px"});e.forEach(i=>t.observe(i))}static \u0275fac=function(t){return new(t||a)(g(b),g(E),g(V))};static \u0275cmp=_({type:a,selectors:[["app-section-imagery"]],decls:26,vars:6,consts:[["id","imagery","title","Select Imagery Style","subtitle","Choose a style or browse stock photos for your brand."],[1,"grid","grid-cols-1","gap-6"],["for","personality",1,"block","text-sm","font-medium","mb-2"],["id","personality",1,"w-full",3,"selectedValue","items","placeholder"],[1,"text-sm","opacity-50","mt-1"],["for","imageryStyle",1,"block","text-sm","font-medium","mb-2"],["id","imageryStyle",1,"w-full",3,"selectedValue","items","placeholder"],["for","searchQuery",1,"block","text-sm","font-medium","mb-2"],["id","searchQuery","type","text","placeholder","e.g., nature, technology...",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],["id","imary-picker","title","Stock Photo Library","subtitle","Select images to include in your brand style guide."],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-4"],["class","relative",4,"ngFor","ngForOf"],["id","imagery-preview","title","Imagery preview","subtitle",""],[1,"relative"],[1,"lazy-load","w-full","h-32","object-cover","rounded-lg","cursor-pointer",3,"click","alt"],["class","absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",4,"ngIf"],[1,"absolute","top-2","right-2","bg-blue-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center"]],template:function(t,i){t&1&&(u(0,"daden-header"),n(1,"daden-container",0)(2,"div",1)(3,"div")(4,"label",2),s(5,"Personality"),r(),n(6,"daden-dropdown",3),m("selectedValue",function(o){return i.handlePersonalitySelection(o)}),r(),n(7,"p",4),s(8,"Filters imagery based on your brand\u2019s personality."),r()(),n(9,"div")(10,"label",5),s(11,"Imagery Style"),r(),n(12,"daden-dropdown",6),m("selectedValue",function(o){return i.handleImageryStyleSelection(o)}),r(),n(13,"p",4),s(14,"Defines the aesthetic of your imagery."),r()(),n(15,"div")(16,"label",7),s(17,"Search Stock Library"),r(),n(18,"input",8),M("ngModelChange",function(o){return k(i.searchQuery,o)||(i.searchQuery=o),o}),m("input",function(){return i.onSearchQueryChange()}),r(),n(19,"p",4),s(20,"Find photos matching your brand identity."),r()()()(),n(21,"daden-container",9)(22,"div",10),y(23,$,3,7,"div",11),r()(),u(24,"daden-container",12)(25,"daden-page-footer")),t&2&&(c(6),d("items",i.personalityOptions)("placeholder","Select a personality..."),c(6),d("items",i.imageryStyles)("placeholder","Select a style..."),c(6),w("ngModel",i.searchQuery),c(5),d("ngForOf",i.stockPhotos))},dependencies:[H,L,U,j,R,D,T,F,A,O,x,Q],styles:[".lazy-load[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.lazy-load[src][_ngcontent-%COMP%]{opacity:1}img[_ngcontent-%COMP%]:hover{opacity:.9}"]})};export{N as SectionImageryComponent};

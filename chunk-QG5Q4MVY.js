import{b as T}from"./chunk-YZEJJSHO.js";import"./chunk-KZIDMVVM.js";import{a as Y}from"./chunk-EGLRAQEI.js";import{a as M}from"./chunk-QCXNJLJG.js";import"./chunk-RFTYMCRL.js";import{a as U,b as N,c as $}from"./chunk-X3BUBGKZ.js";import{$a as _,Aa as i,Eb as D,Ja as S,M as A,P as V,Rb as H,Sb as O,Ua as g,V as y,Xb as R,Yb as j,Za as x,Zb as F,_a as w,a as b,ab as r,b as v,bb as a,bc as k,cb as I,cc as J,eb as f,ma as E,na as L,nb as s,ob as o,qa as d,ub as P,xb as u,yb as p}from"./chunk-XSRQVZZA.js";var K={industry:"",values:[""]},W={genericSignalCollection:d(K)};var C=class l{http=y(M);brandIndustry=W;brandIndustryListPath="assets/tempUsage/brand-industry.json";industryValuesListPath="assets/tempUsage/brand-values.json";industryValuesConnectionPath="assets/tempUsage/industry-values-archetype-connections.json";brandIndustryList=d({industryOptions:[]});brandIndustryValuesConnection=d({rules:[]});loadBrandValuePersonality(){this.http.get("assets/data/brand-value-personality.json").subscribe(e=>{this.brandIndustry.genericSignalCollection.update(n=>v(b({},n),{data:e}))})}loadBrandIndustryValueConnections(){this.http.get(this.industryValuesConnectionPath).pipe(A(e=>this.brandIndustryValuesConnection.set(e))).subscribe()}get industryValuesConnections(){return this.brandIndustryValuesConnection()}loadBrandIndustry(){return this.http.get(this.brandIndustryListPath)}loadIndustryValues(){return this.http.get(this.industryValuesListPath)}getBrandIndustry(){return console.log(this.brandIndustry.genericSignalCollection()),this.brandIndustry.genericSignalCollection}static \u0275fac=function(n){return new(n||l)};static \u0275prov=V({token:l,factory:l.\u0275fac,providedIn:"root"})};function X(l,e){if(l&1&&(r(0,"option"),s(1),a()),l&2){let n=e.$implicit;i(),o(n)}}var B=class l{options=L([]);selectionChange=E();selectedOptions=[];onSelectionChange(e){let n=e.target;this.selectedOptions=Array.from(n.selectedOptions).map(t=>t.value),this.selectionChange.emit(this.selectedOptions),console.log(`Selected ${this.selectedOptions.length} items: ${this.selectedOptions.join(", ")}`)}static \u0275fac=function(n){return new(n||l)};static \u0275cmp=S({type:l,selectors:[["daden-multi-list-selection"]],inputs:{options:[1,"options"]},outputs:{selectionChange:"selectionChange"},decls:4,vars:0,consts:[["multiple","",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","h-32",3,"change"]],template:function(n,t){n&1&&(r(0,"div")(1,"select",0),f("change",function(c){return t.onSelectionChange(c)}),w(2,X,2,1,"option",null,x),a()()),n&2&&(i(2),_(t.options()))},encapsulation:2})};var q=class l{brandIndustryService=y(C);brandIndustryStore=y(T);translate=y(R);brandIndustry=this.brandIndustryService.getBrandIndustry();brandIndustryWatch=D(()=>this.brandIndustry());groupHeaderTitleIndustry="";groupHeaderSubTitleIndustry="";brandIndustryList=d([]);selectedArchetype=d([]);selectedArchetypeFromMulti=d([]);rules=d({rules:[]});topThreeArchetypes={};selectedIndustryArchetype=d(null);selectedValueArchetypes=d([]);combinedSelectedArchetypes=D(()=>{let e=this.selectedIndustryArchetype()?[this.selectedIndustryArchetype(),...this.selectedValueArchetypes()]:[...this.selectedValueArchetypes()];return console.log(this.calculateRoundedPercentages(this.selectedValueArchetypes())),e});groupHeaderTitleBrandname="";groupHeaderSubTitleBrandname="";industryValues=[];dropDownIndustryConfig={placeholder:"Select your industry...",items:[],selectedItem:"",disabled:!1};industriesPlaceholder=d("Select your industry...");traitsPlaceholder=d("Select your traits...");personalityPlaceholder=d("Select your personality...");ngOnInit(){this.groupHeaderTitleIndustry=this.translate.instant("industry-and-values.preview-area.preview-title"),this.groupHeaderSubTitleIndustry=this.translate.instant("industry-and-values.preview-area.preview-description"),this.groupHeaderTitleIndustry=this.translate.instant("industry-and-values.form-area.group-title-industry"),this.groupHeaderSubTitleIndustry=this.translate.instant("industry-and-values.form-area.group-subTitle-industry"),this.brandIndustryService.loadBrandIndustry().subscribe(e=>{this.dropDownIndustryConfig.items=e.industryOptions}),this.brandIndustryService.loadIndustryValues().subscribe(e=>{this.industryValues=e.valueOptions}),this.brandIndustryService.loadBrandIndustryValueConnections()}handleDropdownIndustry(e){let n=this.findArchetypeFromIndustry(e);n&&(this.selectedIndustryArchetype.set(n),this.brandIndustryStore.updateIndustrtyState(e),this.brandIndustry.update(t=>v(b({},t),{industry:e})),console.log(this.selectedArchetype()," <--- HOUDT DIE ALLE ARCHETYPES BIJ????"))}handleMultipleValues(e){let n=e.map(t=>this.findArchetypeFromValues(t)).filter(t=>!!t);this.selectedValueArchetypes.set(n),console.log(this.selectedArchetype()," <--- HOUDT DIE ALLE ARCHETYPES BIJ IN MULTI????")}findArchetypeFromValues(e){return this.brandIndustryService.industryValuesConnections.rules.find(n=>n.condition.value?.includes(e))?.archetype}findArchetypeFromIndustry(e){return this.brandIndustryService.industryValuesConnections.rules.find(n=>n.condition.industry?.includes(e))?.archetype}calculateRoundedPercentages(e){let n=e.length,t={};e.forEach(m=>{t[m]=(t[m]||0)+1});let h={};for(let m in t)h[m]=Math.ceil(t[m]/n*100);let c=Object.entries(h).sort((m,z)=>z[1]-m[1]).slice(0,10);return this.topThreeArchetypes=Object.fromEntries(c),console.log("Top 3 Archetypes:",this.topThreeArchetypes),this.topThreeArchetypes}static \u0275fac=function(n){return new(n||l)};static \u0275cmp=S({type:l,selectors:[["app-brand-industry"]],features:[P([T])],decls:47,vars:31,consts:[["id","industry"],["id","industry-and-values-industry"],[3,"title","subtitle"],["id","Industry","name","Industry",3,"selectedValue","dropDownParts"],["id","value"],["id","industry-and-values-values"],[3,"selectionChange","options"],["id","tone-of-voice-preview"],[1,"p-4","bg-blue-50","rounded-lg"],[1,"text-lg","font-medium","italic"],[1,"text-blue-700"]],template:function(n,t){n&1&&(I(0,"daden-header"),r(1,"section",0)(2,"div",1),I(3,"daden-group-header",2),r(4,"daden-label"),s(5),u(6,"translate"),a(),r(7,"daden-detail"),s(8),u(9,"translate"),a(),r(10,"daden-dropdown",3),f("selectedValue",function(c){return t.handleDropdownIndustry(c)}),a()()(),r(11,"section",4)(12,"div",5)(13,"daden-detail"),s(14),u(15,"translate"),a(),r(16,"daden-label"),s(17),u(18,"translate"),a(),r(19,"daden-detail"),s(20),u(21,"translate"),a(),r(22,"daden-multi-list-selection",6),f("selectionChange",function(c){return t.handleMultipleValues(c)}),a()()(),r(23,"section",7),I(24,"daden-group-header",2),r(25,"div",8)(26,"p",9),s(27,"\u201CA "),r(28,"span",10),s(29),a(),s(30," brand that\u2019s "),r(31,"span",10),s(32),a(),s(33," and "),r(34,"span",10),s(35),a(),s(36,", with a "),r(37,"span",10),s(38),a(),s(39," personality.\u201D "),a()()(),r(40,"div"),s(41),u(42,"json"),a(),I(43,"daden-page-footer"),r(44,"div"),s(45),u(46,"json"),a()),n&2&&(i(3),g("title",t.groupHeaderTitleIndustry)("subtitle",t.groupHeaderSubTitleIndustry),i(2),o(p(6,17,"industry-and-values.form-area.inputlabel")),i(3),o(p(9,19,"industry-and-values.form-area.description-follow")),i(2),g("dropDownParts",t.dropDownIndustryConfig),i(4),o(p(15,21,"industry-and-values.form-area.values-description")),i(3),o(p(18,23,"industry-and-values.form-area.values-label")),i(3),o(p(21,25,"industry-and-values.form-area.values-description-2")),i(2),g("options",t.industryValues),i(2),g("title",t.groupHeaderTitleBrandname)("subtitle",t.groupHeaderSubTitleBrandname),i(5),o(t.brandIndustry().industry),i(3),o(t.brandIndustry().values[0]),i(3),o(t.brandIndustry().values[1]),i(3),o(t.brandIndustry().values[2]),i(3),o(p(42,27,t.combinedSelectedArchetypes())),i(4),o(p(46,29,t.brandIndustryWatch())))},dependencies:[k,F,j,O,H,J,B,N,U,$,Y],encapsulation:2})};export{q as BrandIndustryComponent};

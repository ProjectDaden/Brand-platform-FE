import{a as Q,b as T,e as R,h as D}from"./chunk-XDJY5CAQ.js";import{a as V,c as A}from"./chunk-JFVDNQR4.js";import{d as E,h as k,i as M,k as O}from"./chunk-74SSCY4P.js";import{a as F}from"./chunk-ROQI7XKC.js";import{$ as f,$a as r,Ca as S,Da as u,Ia as b,Na as g,Sa as v,Ta as m,Va as _,_ as h,ab as i,fb as x,gb as d,hb as I,nb as o,p as y,rb as C,sb as P,tb as w,ya as c}from"./chunk-6AYAJPGA.js";function L(l,e){l&1&&(r(0,"div",25),o(1," \u2713 "),i())}function U(l,e){if(l&1){let t=x();r(0,"div",22)(1,"img",23),d("click",function(){let a=h(t).index,s=I();return f(s.togglePhotoSelection(a))}),i(),g(2,L,2,0,"div",24),i()}if(l&2){let t=e.$implicit;c(),_("border-4",t.selected)("border-blue-500",t.selected),m("alt",t.alt),v("data-src",t.url),c(),m("ngIf",t.selected)}}var j=class l{constructor(e,t,n){this.renderer=e;this.document=t;this.http=n}ngOnInit(){this.selectedPersonality=this.getPersonalityFromBrandValues(),this.loadImageryOptions(this.selectedPersonality),this.fetchStockPhotos()}personalityOptions=["Hero","Caregiver","Explorer","Creator","Innocent","Sage","Jester","Magician","Rebel","Ruler","Everyman","Lover"];selectedPersonality="";imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"];selectedImageryStyle="Abstract";stockPhotos=[];searchQuery="";targetAudience={age:"25-34",location:"Urban",interests:["Technology","Travel"]};unsplashAccessKey="YOUR_UNSPLASH_ACCESS_KEY";unsplashApiUrl="https://api.unsplash.com/search/photos";handlePersonalitySelection(e){this.selectedPersonality=e,this.loadImageryOptions(e),this.fetchStockPhotos()}handleImageryStyleSelection(e){this.selectedImageryStyle=e,this.fetchStockPhotos()}loadImageryOptions(e){switch(e){case"Jester":this.imageryStyles=["Bold","Abstract","Vintage"];break;case"Creator":this.imageryStyles=["Abstract","Minimalist","Realistic"];break;case"Hero":this.imageryStyles=["Bold","Realistic","Minimalist"];break;default:this.imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"]}this.selectedImageryStyle=this.imageryStyles[0]}fetchStockPhotos(){let e=this.buildSearchQuery();this.getUnsplashPhotos(e).subscribe(t=>{this.stockPhotos=t.map(n=>({url:n.urls.small,alt:n.alt_description||"Stock photo",selected:!1}))})}buildSearchQuery(){let e=`${this.selectedPersonality.toLowerCase()} ${this.selectedImageryStyle.toLowerCase()}`,t=this.targetAudience.interests.join(" ");return`${e} ${t} ${this.searchQuery}`.trim()}getUnsplashPhotos(e){let t=`${this.unsplashApiUrl}?query=${encodeURIComponent(e)}&per_page=10&client_id=${this.unsplashAccessKey}`;return this.http.get(t).pipe(y(n=>n.results||[]))}togglePhotoSelection(e){this.stockPhotos[e].selected=!this.stockPhotos[e].selected}onSearchQueryChange(){this.fetchStockPhotos()}getPersonalityFromBrandValues(){return"Jester"}get imageryOutput(){return{style:this.selectedImageryStyle,selectedImages:this.stockPhotos.filter(e=>e.selected).map(e=>e.url)}}ngAfterViewInit(){let e=this.document.querySelectorAll(".lazy-load"),t=new IntersectionObserver((n,a)=>{n.forEach(s=>{if(s.isIntersecting){let p=s.target;p.src=p.dataset.src||"",p.classList.remove("lazy-load"),a.unobserve(p)}})},{rootMargin:"0px 0px 100px 0px"});e.forEach(n=>t.observe(n))}static \u0275fac=function(t){return new(t||l)(u(S),u(E),u(V))};static \u0275cmp=b({type:l,selectors:[["app-section-imagery"]],decls:43,vars:6,consts:[[1,"flex-grow","bg-blue-50","text-blue-950","max-h-screen","overflow-y-auto"],[1,"m-auto","max-w-screen-md","p-8"],[1,"text-center"],[1,"text-4xl","font-bold","text-blue-900"],[1,"text-lg","italic","mb-8","opacity-75"],[1,"py-6"],[1,"bg-white","p-6","rounded-xl","shadow-md"],[1,"text-xl","font-semibold","mb-4"],[1,"text-sm","opacity-75","mb-6"],[1,"grid","grid-cols-1","gap-6"],["for","personality",1,"block","text-sm","font-medium","mb-2"],["id","personality",1,"w-full",3,"selectedValue","items","placeholder"],[1,"text-sm","opacity-50","mt-1"],["for","imageryStyle",1,"block","text-sm","font-medium","mb-2"],["id","imageryStyle",1,"w-full",3,"selectedValue","items","placeholder"],["for","searchQuery",1,"block","text-sm","font-medium","mb-2"],["id","searchQuery","type","text","placeholder","e.g., nature, technology...",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],[1,"text-sm","opacity-75","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-4"],["class","relative",4,"ngFor","ngForOf"],[1,"pb-8","flex","justify-end"],[1,"bg-blue-600","text-white","px-6","py-2","rounded","hover:bg-blue-700","transition-all","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"relative"],[1,"lazy-load","w-full","h-32","object-cover","rounded-lg","cursor-pointer",3,"click","alt"],["class","absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",4,"ngIf"],[1,"absolute","top-2","right-2","bg-blue-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"header",2)(3,"h1",3),o(4,"Imagery"),i(),r(5,"p",4),o(6,"Define Your Brand\u2019s Visual Style"),i()(),r(7,"section",5)(8,"div",6)(9,"h2",7),o(10,"Select Imagery Style"),i(),r(11,"p",8),o(12,"Choose a style or browse stock photos for your brand."),i(),r(13,"div",9)(14,"div")(15,"label",10),o(16,"Personality"),i(),r(17,"daden-dropdown",11),d("selectedValue",function(s){return n.handlePersonalitySelection(s)}),i(),r(18,"p",12),o(19,"Filters imagery based on your brand\u2019s personality."),i()(),r(20,"div")(21,"label",13),o(22,"Imagery Style"),i(),r(23,"daden-dropdown",14),d("selectedValue",function(s){return n.handleImageryStyleSelection(s)}),i(),r(24,"p",12),o(25,"Defines the aesthetic of your imagery."),i()(),r(26,"div")(27,"label",15),o(28,"Search Stock Library"),i(),r(29,"input",16),w("ngModelChange",function(s){return P(n.searchQuery,s)||(n.searchQuery=s),s}),d("input",function(){return n.onSearchQueryChange()}),i(),r(30,"p",12),o(31,"Find photos matching your brand identity."),i()()()()(),r(32,"section",5)(33,"div",6)(34,"h2",7),o(35,"Stock Photo Library"),i(),r(36,"p",17),o(37,"Select images to include in your brand style guide."),i(),r(38,"div",18),g(39,U,3,7,"div",19),i()()(),r(40,"div",20)(41,"button",21),o(42," Save & Continue "),i()()()()),t&2&&(c(17),m("items",n.personalityOptions)("placeholder","Select a personality..."),c(6),m("items",n.imageryStyles)("placeholder","Select a style..."),c(6),C("ngModel",n.searchQuery),c(10),m("ngForOf",n.stockPhotos))},dependencies:[F,D,Q,T,R,O,k,M,A],styles:[".lazy-load[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.lazy-load[src][_ngcontent-%COMP%]{opacity:1}img[_ngcontent-%COMP%]:hover{opacity:.9}"]})};export{j as SectionImageryComponent};

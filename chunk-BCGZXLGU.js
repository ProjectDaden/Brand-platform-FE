import{a as j}from"./chunk-UHMXAAEJ.js";import{a as D,b as T,e as F,k as R}from"./chunk-XN24LDPY.js";import{e as U}from"./chunk-U6WU2P5F.js";import{Fa as E,Ha as O,Ia as x,Ja as A,Ka as V,M as c,Ma as Q,N as b,O as y,Q as _,Ua as H,V as u,Wa as L,X as v,Y as d,_ as C,ea as r,fa as n,g as h,ga as m,ha as I,ia as p,ja as P,ma as s,qa as w,ra as k,sa as M,x as f,y as S}from"./chunk-ADHY5EOJ.js";function B(a,e){a&1&&(r(0,"div",17),s(1," \u2713 "),n())}function $(a,e){if(a&1){let t=I();r(0,"div",14)(1,"img",15),p("click",function(){let l=f(t).index,o=P();return S(o.togglePhotoSelection(l))}),n(),u(2,B,2,0,"div",16),n()}if(a&2){let t=e.$implicit;c(),C("border-4",t.selected)("border-blue-500",t.selected),d("alt",t.alt),v("data-src",t.url),c(),d("ngIf",t.selected)}}var N=class a{constructor(e,t,i){this.renderer=e;this.document=t;this.http=i}ngOnInit(){this.selectedPersonality=this.getPersonalityFromBrandValues(),this.loadImageryOptions(this.selectedPersonality),this.fetchStockPhotos()}personalityOptions=["Hero","Caregiver","Explorer","Creator","Innocent","Sage","Jester","Magician","Rebel","Ruler","Everyman","Lover"];selectedPersonality="";imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"];selectedImageryStyle="Abstract";stockPhotos=[];searchQuery="";targetAudience={age:"25-34",location:"Urban",interests:["Technology","Travel"]};unsplashAccessKey="YOUR_UNSPLASH_ACCESS_KEY";unsplashApiUrl="https://api.unsplash.com/search/photos";handlePersonalitySelection(e){this.selectedPersonality=e,this.loadImageryOptions(e),this.fetchStockPhotos()}handleImageryStyleSelection(e){this.selectedImageryStyle=e,this.fetchStockPhotos()}loadImageryOptions(e){switch(e){case"Jester":this.imageryStyles=["Bold","Abstract","Vintage"];break;case"Creator":this.imageryStyles=["Abstract","Minimalist","Realistic"];break;case"Hero":this.imageryStyles=["Bold","Realistic","Minimalist"];break;default:this.imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"]}this.selectedImageryStyle=this.imageryStyles[0]}fetchStockPhotos(){let e=this.buildSearchQuery();this.getUnsplashPhotos(e).subscribe(t=>{this.stockPhotos=t.map(i=>({url:i.urls.small,alt:i.alt_description||"Stock photo",selected:!1}))})}buildSearchQuery(){let e=`${this.selectedPersonality.toLowerCase()} ${this.selectedImageryStyle.toLowerCase()}`,t=this.targetAudience.interests.join(" ");return`${e} ${t} ${this.searchQuery}`.trim()}getUnsplashPhotos(e){let t=`${this.unsplashApiUrl}?query=${encodeURIComponent(e)}&per_page=10&client_id=${this.unsplashAccessKey}`;return this.http.get(t).pipe(h(i=>i.results||[]))}togglePhotoSelection(e){this.stockPhotos[e].selected=!this.stockPhotos[e].selected}onSearchQueryChange(){this.fetchStockPhotos()}getPersonalityFromBrandValues(){return"Jester"}get imageryOutput(){return{style:this.selectedImageryStyle,selectedImages:this.stockPhotos.filter(e=>e.selected).map(e=>e.url)}}ngAfterViewInit(){let e=this.document.querySelectorAll(".lazy-load"),t=new IntersectionObserver((i,l)=>{i.forEach(o=>{if(o.isIntersecting){let g=o.target;g.src=g.dataset.src||"",g.classList.remove("lazy-load"),l.unobserve(g)}})},{rootMargin:"0px 0px 100px 0px"});e.forEach(i=>t.observe(i))}static \u0275fac=function(t){return new(t||a)(y(b),y(E),y(V))};static \u0275cmp=_({type:a,selectors:[["app-section-imagery"]],decls:27,vars:6,consts:[["id","imagery"],["title","Select Imagery Style","subtitle","Choose a style or browse stock photos for your brand."],[1,"grid","grid-cols-1","gap-6"],["for","personality",1,"block","text-sm","font-medium","mb-2"],["id","personality",1,"w-full",3,"selectedValue","items","placeholder"],[1,"text-sm","opacity-50","mt-1"],["for","imageryStyle",1,"block","text-sm","font-medium","mb-2"],["id","imageryStyle",1,"w-full",3,"selectedValue","items","placeholder"],["for","searchQuery",1,"block","text-sm","font-medium","mb-2"],["id","searchQuery","type","text","placeholder","e.g., nature, technology...",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],["id","imagery-preview"],["title","Stock Photo Library","subtitle","Select images to include in your brand style guide."],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-4"],["class","relative",4,"ngFor","ngForOf"],[1,"relative"],[1,"lazy-load","w-full","h-32","object-cover","rounded-lg","cursor-pointer",3,"click","alt"],["class","absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",4,"ngIf"],[1,"absolute","top-2","right-2","bg-blue-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center"]],template:function(t,i){t&1&&(m(0,"daden-header"),r(1,"section",0),m(2,"daden-group-header",1),r(3,"div",2)(4,"div")(5,"label",3),s(6,"Personality"),n(),r(7,"daden-dropdown",4),p("selectedValue",function(o){return i.handlePersonalitySelection(o)}),n(),r(8,"p",5),s(9,"Filters imagery based on your brand\u2019s personality."),n()(),r(10,"div")(11,"label",6),s(12,"Imagery Style"),n(),r(13,"daden-dropdown",7),p("selectedValue",function(o){return i.handleImageryStyleSelection(o)}),n(),r(14,"p",5),s(15,"Defines the aesthetic of your imagery."),n()(),r(16,"div")(17,"label",8),s(18,"Search Stock Library"),n(),r(19,"input",9),M("ngModelChange",function(o){return k(i.searchQuery,o)||(i.searchQuery=o),o}),p("input",function(){return i.onSearchQueryChange()}),n(),r(20,"p",5),s(21,"Find photos matching your brand identity."),n()()()(),r(22,"section",10),m(23,"daden-group-header",11),r(24,"div",12),u(25,$,3,7,"div",13),n()(),m(26,"daden-page-footer")),t&2&&(c(7),d("items",i.personalityOptions)("placeholder","Select a personality..."),c(6),d("items",i.imageryStyles)("placeholder","Select a style..."),c(6),w("ngModel",i.searchQuery),c(6),d("ngForOf",i.stockPhotos))},dependencies:[H,L,j,U,R,D,T,F,A,O,x,Q],styles:[".lazy-load[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.lazy-load[src][_ngcontent-%COMP%]{opacity:1}img[_ngcontent-%COMP%]:hover{opacity:.9}"]})};export{N as SectionImageryComponent};

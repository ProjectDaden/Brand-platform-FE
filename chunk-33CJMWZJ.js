import{a as j}from"./chunk-PQKK374U.js";import{a as T,b as x,e as F,k as R}from"./chunk-7RB63EPK.js";import{d as U,e as N,f as B}from"./chunk-7ZW4HTZP.js";import{Ga as E,Ia as O,Ja as A,Ka as V,La as D,M as c,N as S,Na as Q,O as g,Q as b,V as u,Va as H,X as v,Xa as L,Y as d,_,ea as n,fa as o,g as y,ga as a,ha as C,ia as m,ja as I,na as P,ra as w,sa as k,ta as M,x as h,y as f}from"./chunk-3CJ2HAFY.js";function q(s,e){s&1&&(n(0,"div",19),P(1," \u2713 "),o())}function z(s,e){if(s&1){let t=C();n(0,"div",16)(1,"img",17),m("click",function(){let l=h(t).index,r=I();return f(r.togglePhotoSelection(l))}),o(),u(2,q,2,0,"div",18),o()}if(s&2){let t=e.$implicit;c(),_("border-4",t.selected)("border-blue-500",t.selected),d("alt",t.alt),v("data-src",t.url),c(),d("ngIf",t.selected)}}var $=class s{constructor(e,t,i){this.renderer=e;this.document=t;this.http=i}ngOnInit(){this.selectedPersonality=this.getPersonalityFromBrandValues(),this.loadImageryOptions(this.selectedPersonality),this.fetchStockPhotos()}personalityOptions=["Hero","Caregiver","Explorer","Creator","Innocent","Sage","Jester","Magician","Rebel","Ruler","Everyman","Lover"];selectedPersonality="";imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"];selectedImageryStyle="Abstract";stockPhotos=[];searchQuery="";targetAudience={age:"25-34",location:"Urban",interests:["Technology","Travel"]};unsplashAccessKey="YOUR_UNSPLASH_ACCESS_KEY";unsplashApiUrl="https://api.unsplash.com/search/photos";handlePersonalitySelection(e){this.selectedPersonality=e,this.loadImageryOptions(e),this.fetchStockPhotos()}handleImageryStyleSelection(e){this.selectedImageryStyle=e,this.fetchStockPhotos()}loadImageryOptions(e){switch(e){case"Jester":this.imageryStyles=["Bold","Abstract","Vintage"];break;case"Creator":this.imageryStyles=["Abstract","Minimalist","Realistic"];break;case"Hero":this.imageryStyles=["Bold","Realistic","Minimalist"];break;default:this.imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"]}this.selectedImageryStyle=this.imageryStyles[0]}fetchStockPhotos(){let e=this.buildSearchQuery();this.getUnsplashPhotos(e).subscribe(t=>{this.stockPhotos=t.map(i=>({url:i.urls.small,alt:i.alt_description||"Stock photo",selected:!1}))})}buildSearchQuery(){let e=`${this.selectedPersonality.toLowerCase()} ${this.selectedImageryStyle.toLowerCase()}`,t=this.targetAudience.interests.join(" ");return`${e} ${t} ${this.searchQuery}`.trim()}getUnsplashPhotos(e){let t=`${this.unsplashApiUrl}?query=${encodeURIComponent(e)}&per_page=10&client_id=${this.unsplashAccessKey}`;return this.http.get(t).pipe(y(i=>i.results||[]))}togglePhotoSelection(e){this.stockPhotos[e].selected=!this.stockPhotos[e].selected}onSearchQueryChange(){this.fetchStockPhotos()}getPersonalityFromBrandValues(){return"Jester"}get imageryOutput(){return{style:this.selectedImageryStyle,selectedImages:this.stockPhotos.filter(e=>e.selected).map(e=>e.url)}}ngAfterViewInit(){let e=this.document.querySelectorAll(".lazy-load"),t=new IntersectionObserver((i,l)=>{i.forEach(r=>{if(r.isIntersecting){let p=r.target;p.src=p.dataset.src||"",p.classList.remove("lazy-load"),l.unobserve(p)}})},{rootMargin:"0px 0px 100px 0px"});e.forEach(i=>t.observe(i))}static \u0275fac=function(t){return new(t||s)(g(S),g(E),g(D))};static \u0275cmp=b({type:s,selectors:[["app-section-imagery"]],decls:21,vars:6,consts:[["id","imagery"],["title","Select Imagery Style","subtitle","Choose a style or browse stock photos for your brand."],[1,"grid","grid-cols-1","gap-6"],["for","personality","label","Personality<"],["id","personality",1,"w-full",3,"selectedValue","items","placeholder"],["text","Filters imagery based on your brand\u2019s personality."],["for","imageryStyle","label","Imagery Style"],["id","imageryStyle",1,"w-full",3,"selectedValue","items","placeholder"],["text","Defines the aesthetic of your imagery."],["for","searchQuery","label","Search Stock Library"],["id","searchQuery","type","text","placeholder","e.g., nature, technology...",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],["text","Find photos matching your brand identity."],["id","imagery-preview"],["title","Stock Photo Library","subtitle","Select images to include in your brand style guide."],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-4"],["class","relative",4,"ngFor","ngForOf"],[1,"relative"],[1,"lazy-load","w-full","h-32","object-cover","rounded-lg","cursor-pointer",3,"click","alt"],["class","absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",4,"ngIf"],[1,"absolute","top-2","right-2","bg-blue-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center"]],template:function(t,i){t&1&&(a(0,"daden-header"),n(1,"section",0),a(2,"daden-group-header",1),n(3,"div",2)(4,"div"),a(5,"daden-label",3),n(6,"daden-dropdown",4),m("selectedValue",function(r){return i.handlePersonalitySelection(r)}),o(),a(7,"daden-detail",5),o(),n(8,"div"),a(9,"daden-label",6),n(10,"daden-dropdown",7),m("selectedValue",function(r){return i.handleImageryStyleSelection(r)}),o(),a(11,"daden-detail",8),o(),n(12,"div"),a(13,"daden-label",9),n(14,"input",10),M("ngModelChange",function(r){return k(i.searchQuery,r)||(i.searchQuery=r),r}),m("input",function(){return i.onSearchQueryChange()}),o(),a(15,"daden-detail",11),o()()(),n(16,"section",12),a(17,"daden-group-header",13),n(18,"div",14),u(19,z,3,7,"div",15),o()(),a(20,"daden-page-footer")),t&2&&(c(6),d("items",i.personalityOptions)("placeholder","Select a personality..."),c(4),d("items",i.imageryStyles)("placeholder","Select a style..."),c(4),w("ngModel",i.searchQuery),c(5),d("ngForOf",i.stockPhotos))},dependencies:[H,L,j,U,N,B,R,T,x,F,V,O,A,Q],encapsulation:2})};export{$ as SectionImageryComponent};

import{a as L}from"./chunk-XGVV4JAY.js";import{a as D,b as R,e as T,k as F}from"./chunk-UVUV5ZFF.js";import{a as B,b as H}from"./chunk-HO533T42.js";import{Da as k,Fa as M,Ga as O,Ha as A,Ia as V,Ka as Q,M as c,N as b,O as g,Q as v,Sa as j,V as y,X as _,Y as m,_ as C,ea as n,fa as r,g as h,ga as u,ha as I,ia as d,ja as P,ma as s,pa as x,qa as w,ra as E,x as f,y as S}from"./chunk-M7O4YHAS.js";function N(a,e){a&1&&(n(0,"div",21),s(1," \u2713 "),r())}function $(a,e){if(a&1){let t=I();n(0,"div",18)(1,"img",19),d("click",function(){let l=f(t).index,o=P();return S(o.togglePhotoSelection(l))}),r(),y(2,N,2,0,"div",20),r()}if(a&2){let t=e.$implicit;c(),C("border-4",t.selected)("border-blue-500",t.selected),m("alt",t.alt),_("data-src",t.url),c(),m("ngIf",t.selected)}}var U=class a{constructor(e,t,i){this.renderer=e;this.document=t;this.http=i}ngOnInit(){this.selectedPersonality=this.getPersonalityFromBrandValues(),this.loadImageryOptions(this.selectedPersonality),this.fetchStockPhotos()}personalityOptions=["Hero","Caregiver","Explorer","Creator","Innocent","Sage","Jester","Magician","Rebel","Ruler","Everyman","Lover"];selectedPersonality="";imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"];selectedImageryStyle="Abstract";stockPhotos=[];searchQuery="";targetAudience={age:"25-34",location:"Urban",interests:["Technology","Travel"]};unsplashAccessKey="YOUR_UNSPLASH_ACCESS_KEY";unsplashApiUrl="https://api.unsplash.com/search/photos";handlePersonalitySelection(e){this.selectedPersonality=e,this.loadImageryOptions(e),this.fetchStockPhotos()}handleImageryStyleSelection(e){this.selectedImageryStyle=e,this.fetchStockPhotos()}loadImageryOptions(e){switch(e){case"Jester":this.imageryStyles=["Bold","Abstract","Vintage"];break;case"Creator":this.imageryStyles=["Abstract","Minimalist","Realistic"];break;case"Hero":this.imageryStyles=["Bold","Realistic","Minimalist"];break;default:this.imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"]}this.selectedImageryStyle=this.imageryStyles[0]}fetchStockPhotos(){let e=this.buildSearchQuery();this.getUnsplashPhotos(e).subscribe(t=>{this.stockPhotos=t.map(i=>({url:i.urls.small,alt:i.alt_description||"Stock photo",selected:!1}))})}buildSearchQuery(){let e=`${this.selectedPersonality.toLowerCase()} ${this.selectedImageryStyle.toLowerCase()}`,t=this.targetAudience.interests.join(" ");return`${e} ${t} ${this.searchQuery}`.trim()}getUnsplashPhotos(e){let t=`${this.unsplashApiUrl}?query=${encodeURIComponent(e)}&per_page=10&client_id=${this.unsplashAccessKey}`;return this.http.get(t).pipe(h(i=>i.results||[]))}togglePhotoSelection(e){this.stockPhotos[e].selected=!this.stockPhotos[e].selected}onSearchQueryChange(){this.fetchStockPhotos()}getPersonalityFromBrandValues(){return"Jester"}get imageryOutput(){return{style:this.selectedImageryStyle,selectedImages:this.stockPhotos.filter(e=>e.selected).map(e=>e.url)}}ngAfterViewInit(){let e=this.document.querySelectorAll(".lazy-load"),t=new IntersectionObserver((i,l)=>{i.forEach(o=>{if(o.isIntersecting){let p=o.target;p.src=p.dataset.src||"",p.classList.remove("lazy-load"),l.unobserve(p)}})},{rootMargin:"0px 0px 100px 0px"});e.forEach(i=>t.observe(i))}static \u0275fac=function(t){return new(t||a)(g(b),g(k),g(V))};static \u0275cmp=v({type:a,selectors:[["app-section-imagery"]],decls:39,vars:6,consts:[[1,"flex-grow","bg-blue-50","text-blue-950","max-h-screen","overflow-y-auto"],[1,"m-auto","max-w-screen-md","p-8"],[1,"py-6"],[1,"bg-white","p-6","rounded-xl","shadow-md"],[1,"text-xl","font-semibold","mb-4"],[1,"text-sm","opacity-75","mb-6"],[1,"grid","grid-cols-1","gap-6"],["for","personality",1,"block","text-sm","font-medium","mb-2"],["id","personality",1,"w-full",3,"selectedValue","items","placeholder"],[1,"text-sm","opacity-50","mt-1"],["for","imageryStyle",1,"block","text-sm","font-medium","mb-2"],["id","imageryStyle",1,"w-full",3,"selectedValue","items","placeholder"],["for","searchQuery",1,"block","text-sm","font-medium","mb-2"],["id","searchQuery","type","text","placeholder","e.g., nature, technology...",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],[1,"text-sm","opacity-75","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-4"],["class","relative",4,"ngFor","ngForOf"],[1,"pb-8","flex","justify-end","gap-2"],[1,"relative"],[1,"lazy-load","w-full","h-32","object-cover","rounded-lg","cursor-pointer",3,"click","alt"],["class","absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",4,"ngIf"],[1,"absolute","top-2","right-2","bg-blue-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1),u(2,"daden-header"),n(3,"section",2)(4,"div",3)(5,"h2",4),s(6,"Select Imagery Style"),r(),n(7,"p",5),s(8,"Choose a style or browse stock photos for your brand."),r(),n(9,"div",6)(10,"div")(11,"label",7),s(12,"Personality"),r(),n(13,"daden-dropdown",8),d("selectedValue",function(o){return i.handlePersonalitySelection(o)}),r(),n(14,"p",9),s(15,"Filters imagery based on your brand\u2019s personality."),r()(),n(16,"div")(17,"label",10),s(18,"Imagery Style"),r(),n(19,"daden-dropdown",11),d("selectedValue",function(o){return i.handleImageryStyleSelection(o)}),r(),n(20,"p",9),s(21,"Defines the aesthetic of your imagery."),r()(),n(22,"div")(23,"label",12),s(24,"Search Stock Library"),r(),n(25,"input",13),E("ngModelChange",function(o){return w(i.searchQuery,o)||(i.searchQuery=o),o}),d("input",function(){return i.onSearchQueryChange()}),r(),n(26,"p",9),s(27,"Find photos matching your brand identity."),r()()()()(),n(28,"section",2)(29,"div",3)(30,"h2",4),s(31,"Stock Photo Library"),r(),n(32,"p",14),s(33,"Select images to include in your brand style guide."),r(),n(34,"div",15),y(35,$,3,7,"div",16),r()()(),n(36,"div",17),u(37,"daden-reset-button")(38,"daden-save-button"),r()()()),t&2&&(c(13),m("items",i.personalityOptions)("placeholder","Select a personality..."),c(6),m("items",i.imageryStyles)("placeholder","Select a style..."),c(6),x("ngModel",i.searchQuery),c(10),m("ngForOf",i.stockPhotos))},dependencies:[j,B,H,L,F,D,R,T,A,M,O,Q],styles:[".lazy-load[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.lazy-load[src][_ngcontent-%COMP%]{opacity:1}img[_ngcontent-%COMP%]:hover{opacity:.9}"]})};export{U as SectionImageryComponent};

import{a as D,c as Q}from"./chunk-AJTZOPG4.js";import{a as F,b as R,e as H,j as L}from"./chunk-VXXO3MBH.js";import{a as T,b as V,c as N}from"./chunk-FB5BZ6VX.js";import{Ba as c,Ea as S,Fa as m,Ka as b,Kb as A,Pa as g,Pb as E,Qb as O,Sb as x,Ua as v,Va as p,Xa as C,aa as h,ba as f,bb as r,bc as U,cb as n,cc as j,db as o,eb as I,fb as u,gb as _,nb as P,r as y,rb as k,sb as w,tb as M}from"./chunk-RWNZRDXE.js";function $(a,e){a&1&&(r(0,"div",17),P(1," \u2713 "),n())}function q(a,e){if(a&1){let t=I();r(0,"div",14)(1,"img",15),u("click",function(){let l=h(t).index,s=_();return f(s.togglePhotoSelection(l))}),n(),g(2,$,2,0,"div",16),n()}if(a&2){let t=e.$implicit;c(),C("border-4",t.selected)("border-blue-500",t.selected),p("alt",t.alt),v("data-src",t.url),c(),p("ngIf",t.selected)}}var B=class a{constructor(e,t,i){this.renderer=e;this.document=t;this.http=i}ngOnInit(){this.selectedPersonality=this.getPersonalityFromBrandValues(),this.loadImageryOptions(this.selectedPersonality),this.fetchStockPhotos()}personalityOptions=["Hero","Caregiver","Explorer","Creator","Innocent","Sage","Jester","Magician","Rebel","Ruler","Everyman","Lover"];selectedPersonality="";imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"];selectedImageryStyle="Abstract";stockPhotos=[];searchQuery="";targetAudience={age:"25-34",location:"Urban",interests:["Technology","Travel"]};unsplashAccessKey="YOUR_UNSPLASH_ACCESS_KEY";unsplashApiUrl="https://api.unsplash.com/search/photos";handlePersonalitySelection(e){this.selectedPersonality=e,this.loadImageryOptions(e),this.fetchStockPhotos()}handleImageryStyleSelection(e){this.selectedImageryStyle=e,this.fetchStockPhotos()}loadImageryOptions(e){switch(e){case"Jester":this.imageryStyles=["Bold","Abstract","Vintage"];break;case"Creator":this.imageryStyles=["Abstract","Minimalist","Realistic"];break;case"Hero":this.imageryStyles=["Bold","Realistic","Minimalist"];break;default:this.imageryStyles=["Abstract","Realistic","Minimalist","Vintage","Bold"]}this.selectedImageryStyle=this.imageryStyles[0]}fetchStockPhotos(){let e=this.buildSearchQuery();this.getUnsplashPhotos(e).subscribe(t=>{this.stockPhotos=t.map(i=>({url:i.urls.small,alt:i.alt_description||"Stock photo",selected:!1}))})}buildSearchQuery(){let e=`${this.selectedPersonality.toLowerCase()} ${this.selectedImageryStyle.toLowerCase()}`,t=this.targetAudience.interests.join(" ");return`${e} ${t} ${this.searchQuery}`.trim()}getUnsplashPhotos(e){let t=`${this.unsplashApiUrl}?query=${encodeURIComponent(e)}&per_page=10&client_id=${this.unsplashAccessKey}`;return this.http.get(t).pipe(y(i=>i.results||[]))}togglePhotoSelection(e){this.stockPhotos[e].selected=!this.stockPhotos[e].selected}onSearchQueryChange(){this.fetchStockPhotos()}getPersonalityFromBrandValues(){return"Jester"}get imageryOutput(){return{style:this.selectedImageryStyle,selectedImages:this.stockPhotos.filter(e=>e.selected).map(e=>e.url)}}ngAfterViewInit(){let e=this.document.querySelectorAll(".lazy-load"),t=new IntersectionObserver((i,l)=>{i.forEach(s=>{if(s.isIntersecting){let d=s.target;d.src=d.dataset.src||"",d.classList.remove("lazy-load"),l.unobserve(d)}})},{rootMargin:"0px 0px 100px 0px"});e.forEach(i=>t.observe(i))}static \u0275fac=function(t){return new(t||a)(m(S),m(A),m(D))};static \u0275cmp=b({type:a,selectors:[["app-section-imagery"]],decls:19,vars:2,consts:[["id","imagery"],["title","Select Imagery Style","subtitle","Choose a style or browse stock photos for your brand."],[1,"grid","grid-cols-1","gap-6"],["for","personality","label","Personality"],["text","Filters imagery based on your brand\u2019s personality."],["for","imageryStyle","label","Imagery Style"],["text","Defines the aesthetic of your imagery."],["for","searchQuery","label","Search Stock Library"],["id","searchQuery","type","text","placeholder","e.g., nature, technology...",1,"w-full","p-2","border","border-gray-300","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],["text","Find photos matching your brand identity."],["id","imagery-preview"],["title","Stock Photo Library","subtitle","Select images to include in your brand style guide."],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-4"],["class","relative",4,"ngFor","ngForOf"],[1,"relative"],[1,"lazy-load","w-full","h-32","object-cover","rounded-lg","cursor-pointer",3,"click","alt"],["class","absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",4,"ngIf"],[1,"absolute","top-2","right-2","bg-blue-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center"]],template:function(t,i){t&1&&(o(0,"daden-header"),r(1,"section",0),o(2,"daden-group-header",1),r(3,"div",2)(4,"div"),o(5,"daden-label",3)(6,"daden-detail",4),n(),r(7,"div"),o(8,"daden-label",5)(9,"daden-detail",6),n(),r(10,"div"),o(11,"daden-label",7),r(12,"input",8),M("ngModelChange",function(s){return w(i.searchQuery,s)||(i.searchQuery=s),s}),u("input",function(){return i.onSearchQueryChange()}),n(),o(13,"daden-detail",9),n()()(),r(14,"section",10),o(15,"daden-group-header",11),r(16,"div",12),g(17,q,3,7,"div",13),n()(),o(18,"daden-page-footer")),t&2&&(c(12),k("ngModel",i.searchQuery),c(5),p("ngForOf",i.stockPhotos))},dependencies:[U,j,V,N,T,L,F,R,H,x,E,O,Q],encapsulation:2})};export{B as SectionImageryComponent};
